# Polandball Story Maker アプリ説明書
このアプリケーションは、Googleの最新AIモデル Gemini 2.5 Flash を利用して、人気のインターネットミーム「ポーランドボール（カントリーボール）」風のコミカルな物語の脚本を生成・分析するためのモバイルフレンドリーなWebアプリです。
1. 動作環境と初期設定
✦ Gemini APIキーの設定 (必須)
本アプリの主要機能（物語生成、リアルタイムイベント検索、分析）はGemini APIを介して行われます。
 * 「Config (設定)」 タブに移動します。
 * 「Gemini API Key」欄に、お客様のAPIキーを入力します。
 * 「保存」 ボタンを押して設定を保存してください。
📁  Indexeddb / 認証
このアプリは永続的なデータ保存のためにindexeddbを使用します。くれぐれもブラウザキャッシュの取り扱いにご注意ください。
2. メイン機能
A. Home (ホーム) タブ
1. 物語を作る
 * 時代 / 年代: 物語の歴史的背景や時代（例: 冷戦時代、中世ヨーロッパ、2000年代）を入力します。
 * ジャンル / テーマ: 物語のテーマ（例: 宇宙開発競争、平和条約の交渉、奇妙な日常）を入力します。
 * 「生成する」 ボタンを押すと、Geminiがポーランドボールのステレオタイプと「Engrish」を取り入れたコミカルな脚本を生成します。
2. リアルタイム「On This Day」コラム (Gemini Search Grounding)
 * Gemini APIのGoogle検索機能を使用し、今日の日付に実際に起こった歴史的な出来事をリアルタイムで検索し、LLMが要約して表示します。
 * 表示されたイベントをプロンプトとして使用したい場合は、「これをもとに物語を作る」 ボタンを押すと、入力欄に情報が自動で設定されます。
B. Story (物語) タブ
1. スクリプト表示
 * 生成された物語は、国ごとのアイコンが付いた吹き出し形式で表示されます。
 * ポーランドボール特有の、文法をわざと間違えた「Engrish」や、ステレオタイプに基づくジョークが楽しめます。
2. ✨ ストーリー分析 (新機能)
 * 「✨分析」 ボタンを押すと、Geminiが現在の物語に対して、評論家として以下の分析を行います。
   * タイトル提案とあらすじ: 物語のタイトルと皮肉めいたあらすじ。
   * キャラ評価: 登場国のステレオタイプがどれだけ強調されているかの評価。
   * 歴史的正確性: 時代背景に対してどれほど不正確であるか（ポーランドボール的観点では不正確であるほど良い）の指摘。
3. プレイヤーコントロール
 * 再生/停止: 「TTS再生/停止」 ボタンを押すと、物語のスクリプトを日本語で読み上げます（Podcastモード）。
 * 保存: 「保存」 ボタンを押すと、現在の物語を「Log (ログ)」タブに保存します。
 * クリア: 「クリア」 ボタンを押すと、現在の画面をリセットします。
C. Log (ログ) タブ
 * 保存された物語のリストが表示されます。
 * リストの項目をタップすると、その物語を「Story (物語)」タブに再度読み込むことができます。
 * ゴミ箱アイコンを押すと、保存された物語を削除できます。
D. Config (設定) タブ
 * API Key: Gemini APIキーの入力・保存を行います。
 * ダークモード: アプリのテーマをライトモードとダークモードで切り替えます。
 * 毎日のコラムを表示: ホームタブの「On This Day」コラムの表示・非表示を切り替えます。
3. 注意事項
 * Gemini APIの利用には料金が発生する場合があります。しかし、GeminiAPIキーを無料枠で発行しても勝手に請求されることはありません。#Gemini Proに加入した場合のみ料金が発生します。
 * 物語生成に使用されるモデルは、ユーモアとステレオタイプを優先して応答するため、生成された歴史的事実や文化的記述は真実ではない可能性が高いことにご注意ください。

